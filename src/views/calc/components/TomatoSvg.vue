<template>
    <svg viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg">
        <defs>
            <clipPath id="clip-0">
                <rect x="0" :y="maskTop" width="500" height="500"></rect>
            </clipPath>
        </defs>
        <rect
            height="500"
            width="500"
            id="Border"
            style="fill-rule: evenodd; fill: rgba(0, 0, 255, 0)"
        ></rect>
        <path
            id="Red"
            style="fill: rgb(209, 55, 45); clip-path: url('#clip-0')"
            d="M 322.772 121.697
C 295.347 134.264 207.606 125.464 176.371 121.222
C 137.227 117.874 92.815 141.607 57.247 172.229
C 24.38 200.456 11.589 247.133 15.299 296.195
C 20.836 369.443 70.484 433.863 136.044 466.303
C 177.309 486.721 289.651 505.793 372.43 464.152
C 429.7 435.343 484.206 372.962 487.523 301.392
C 489.849 251.205 472.979 191.709 431.636 158.091
C 399.354 131.84 351.194 116.773 322.772 121.697 Z"
            class="st0"
        ></path>
        <path
            id="RedLine"
            style="
                fill: none;
                stroke: rgb(209, 55, 45);
                stroke-width: 5px;
                transform: matrix(1, 0, 0, 1, 0, -1);
            "
            d="M 322.772 121.697
C 295.347 134.264 207.606 125.464 176.371 121.222
C 137.227 117.874 92.815 141.607 57.247 172.229
C 24.38 200.456 11.589 247.133 15.299 296.195
C 20.836 369.443 70.484 433.863 136.044 466.303
C 177.309 486.721 289.651 505.793 372.43 464.152
C 429.7 435.343 484.206 372.962 487.523 301.392
C 489.849 251.205 472.979 191.709 431.636 158.091
C 399.354 131.84 351.194 116.773 322.772 121.697 Z"
            class="st0"
        ></path>
        <path
            id="Green"
            style="fill: rgb(75, 160, 66)"
            d="M 127.181 92.553
C 136.578 91.118 146.59 91.647 157.051 93.763
C 170.312 96.483 184.315 101.849 198.956 109.406
C 201.311 110.727 204.2 110.652 206.278 108.876
C 209.09 106.458 209.377 101.924 206.841 98.75
C 197.433 86.81 188.936 90.197 186.707 77.729
C 184.924 67.754 185.806 57.59 189.978 47.426
C 198.082 48.674 206.036 53.472 213.501 60.689
C 224.747 71.457 237.055 71.546 245.719 88.586
C 246.697 90.551 248.421 92.025 250.542 92.629
C 254.267 93.649 257.874 91.345 258.502 87.491
C 261.48 70.299 265.094 71.344 273.593 60.765
C 280.076 52.717 288.248 47.086 298.045 44.857
C 301.76 53.472 303.45 63.182 303.537 73.384 L 303.543 73.46
C 303.669 87.817 302.736 87.265 297.86 102.113
C 297.049 104.531 297.555 107.328 299.37 109.519
C 301.974 112.617 306.301 113.108 309.072 110.614
C 316.909 103.436 326.585 98.297 338.289 95.766
C 347.849 93.687 358.753 93.272 371.097 94.783
C 369.394 108.8 332.091 126.451 319.114 128.353
C 300.08 135.873 277.274 130.85 255.05 130.057
C 234.799 129.339 215.871 135.04 198.063 130.356
C 180.203 127.479 132.332 107.453 127.181 92.553 Z"
            class="st1"
        ></path>
    </svg>
</template>

<script>
    // @ is an alias to /src
    const FACTOR = 3.7;
    const OFFSET = 120;

    export default {
        name: 'TomatoSvg',
        props: {
            reveal: {
                type: [Number, String],
                default: 99,
            },
        },
        data() {
            return {
                maskTop: OFFSET,
            };
        },
        updated() {
            this.setPercent(this.reveal);
        },
        methods: {
            setPercent(num) {
                let val = 100 - num;
                this.maskTop = val * FACTOR + OFFSET;
            },
        },
        computed: {
            percent() {
                let off = this.maskTop - OFFSET;
                return 100 - off / FACTOR;
            },
        },
    };
</script>

<style scoped></style>
